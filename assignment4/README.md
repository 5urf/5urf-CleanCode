# TIL (Today I Learned)

**날짜:** 2025.05.27

## 📖 오늘 읽은 범위

**3장. 함수**

## 💡 책에서 기억하고 싶은 내용

> 함수를 만드는 첫째 규칙은 '작게!'다. 함수를 만드는 둘째 규칙은 '더 작게!'다. (p.42)

> 중첩 구조가 생길만큼 함수가 커져서는 안 된다는 뜻이다. 그러므로 함수에서 들여쓰기 수준은 1단이나 2단을 넘어서면 안 된다. 당연한 말이지만, 그래야 함수는 읽고 이해하기 쉬워진다. (p.44)

> 함수는 한 가지를 해야 한다. 그 한가지를 잘 해야 한다. 그 한 가지만을 해야 한다. (p.44)

> 단순히 다른 표현이 아니라 의미 있는 이름으로 다른 함수를 추출할 수 있다면 그 함수는 여러 작업을 하는 셈이다. (p.45)

> 함수가 확실히 '한 가지' 작업만 하려면 함수 내 모든 문장의 추상화 수준이 동일해야 한다. (p.45)

> 한 함수 내에 추상화 수준을 섞으면 코드를 읽는 사람이 헷갈린다. 특정 표현이 근본 개념인지 아니면 세부사항인지 구분하기 어려운 탓이다. 하지만 문제는 이 정도로 그치지 않는다. 근본 개념과 세부사항을 뒤섞기 시작하면, 깨어진 창문처럼 사람들이 함수에 세부사항을 점점 더 추가한다. (p.46)

> 서술적인 이름을 사용하라! 이름이 길어도 괜찮다. 겁먹을 필요없다. 길고 서술적인 이름이 짧고 어려운 이름보다 좋다. 길고 서술적인 이름이 길고 서술적인 주석보다 좋다. 함수 이름을 정할때는 여러 단어가 쉽게 읽히는 명명법을 사용한다. (p.49)

> 이름을 붙일 때는 일관성이 있어야 한다. 모듈 내에서 함수 이름은 같은 문구, 명사, 동사를 사용한다. (p.50)

> 명령과 조회를 분리하라! 함수는 뭔가를 수행하거나 뭔가에 답하거나 둘 중 하나만 해야 한다. (p.56)

> 오류 코드보다 예외를 사용하라! 명령 함수에서 오류 코드를 반환하는 방식은 명령/조회 분리 규칙을 미묘하게 위반한다. 자칫하면 `if`문에서 명령을 표현식으로 사용하기 쉬운 탓이다. (p.57)

> 반복하지 마라! 구조적 프로그래밍, AOP, COP 모두 어떤 면에서 중복 제거 전략이다. 하위 루틴을 발명한 이래로 소프트웨어 개발에서 지금까지 일어난 혁신은 소스 코드에서 중복을 제거하려는 지속적인 노력으로 보인다. (p.60 ~ 61)

> 대가 프로그래머는 시스템을 (구현할) 프로그램이 아니라 (풀어갈) 이야기로 여긴다. 프로그래밍 언어라는 수단을 사용해 좀 더 풍부하고 좀 더 표현력이 강한 언어를 만들어 이야기를 풀어간다. 시스템에서 발생하는 모든 동작을 설명하는 함수 계층이 바로 그 언어에 속한다. (p.62)

> 설명한 규칙을 따른다면 길이가 짧고, 이름이 좋고, 체계가 잡힌 함수가 나오리라. 하지만 진짜 목표는 시스템이라는 이야기를 풀어가는 데 있다는 사실을 명심하기 바란다. (p.62)

> 여러분이 작성하는 함수가 분명하고 정확한 언어로 깔끔하게 같이 맞아떨어져야 이야기를 풀어가기가 쉬워진다는 사실을 기억하기 바란다. (p.62)

## 🤔 오늘 읽은 소감

- 함수 작성할 때는 보통 이 책에 나오듯이 최대한 짧게 그리고 가독성 부분만 생각하며 얼리 리턴 등을 적용했지만, 추상화 수준을 맞추는 것까지는 고려해 본 적이 없었다. 처음에는 "함수 내 모든 문장의 추상화 수준이 동일해야 한다"라는 부분이 잘 이해되지 않았는데, 같은 추상화 수준으로 작성하면 가독성이 좋아져 한눈에 흐름이 보이고, 흐름에 따라 필요한 부분을 상세히 보면 되기 때문에 코드를 읽는 과정도 자연스럽게 이어져 좋다는 것을 깨달았다.

- "함수는 한 가지만 해야 한다"라는 원칙은 컴포넌트 설계할 때 적용하는 단일 책임 원칙과 같은 맥락인 것 같다. 실제로 노력하고 있는 부분이라 더 와닿았다.

- "시스템을 이야기로 여긴다"라는 관점이 매우 인상 깊었다. 평소에도 코드 작성할 때 프로그래밍 언어도 언어이니까 마치 작문한다고 생각하며 가독성을 중요시해왔는데, 이 책에서 말하는 철학과 일치하는 것 같아서 더욱 와닿았다. 이것이 이 책을 읽게 된 이유이기도 하다.

## ❓ 궁금한 내용

**OCP (Open-Closed Principle)**
개방-폐쇄 원칙. "소프트웨어 개체는 확장에는 열려있고, 수정에는 닫혀있어야 한다"는 원칙이다. 새로운 기능을 추가할 때 기존 코드를 변경하지 않고도 확장만으로 해결할 수 있어야 한다는 의미이다.

**DRY (Don't Repeat Yourself)**
"반복하지 마라" 원칙. 같은 지식이나 로직을 여러 곳에 중복해서 작성하지 말라는 원칙이다. 책에서 언급한 "중복 제거"가 소프트웨어 개발 혁신의 핵심이라는 개념과 동일하다.
