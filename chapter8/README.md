# TIL (Today I Learned)

**날짜:** 2025.06.16

## 📖 오늘 읽은 범위

**8장. 경계**

## 💡 책에서 기억하고 싶은 내용

> **외부 코드 사용하기**
>
> > `Map`과 같은 경계 인터페이스를 이용할 때는 이를 이용하는 클래스나 클래스 계열 밖으로 노출되지 않도록 주의한다.
>
> (p.146)

> **경계 살피고 익히기**
>
> > 외부 코드를 호출하는 대신 먼저 간단한 테스트 케이스를 작성해 외부 코드를 익히면 어떨까? 짐 뉴커크는 이를 학습 테스트라 부른다.
>
> > 학습테스트는 프로그램에서 사용하려는 방식대로 외부 API를 호출한다. 통제된 환경에서 API를 제대로 이해하는지를 확인하는 셈이다.
>
> > 학습 테스트는 API를 사용하려는 목적에 초점을 맞춘다.
>
> (p.147)

> **학습 테스트는 공짜 이상이다**
>
> > 학습 테스트를 이용한 학습이 필요하든 그렇지 않든, 실제 코드와 동일한 방식으로 인터페이스를 사용하는 테스트 케이스가 필요하다.
>
> > 이런 경계 테스트가 있다면 패키지의 새 버전으로 이전하기 쉬워진다. 그렇지 않다면 낡은 버전을 필요 이상으로 오랫동안 사용하려는 유혹에 빠지기 쉽다.
>
> (p.150)

> **깨끗한 경계**
>
> > 통제하지 못하는 코드를 사용할 때는 너무 많은 투자를 하거나 향후 변경 비용이 지나치게 커지지 않도록 각별히 주의해야 한다.
>
> > 경계에 위치하는 코드는 깔끔히 분리한다. 또한 기대치를 정의하는 테스트 케이스도 작성한다.
>
> > 이쪽 코드에서 외부 패키지를 세세하게 알아야 할 필요가 없다. 통제가 불가능한 외부 패키지에 의존하는 대신 통제가 가능한 우리 코드에 의존하는 편이 훨씬 좋다. 자칫하면 오히려 외부 코드에 휘둘리고 만다.
>
> > 외부 패키지를 호출하는 코드를 가능한 줄여 경계를 관리하자.
>
> (p.152)

## 🤔 오늘 읽은 소감

- 래퍼 패턴의 중요성에 대해 다시 한번 생각해보게 되었다. 이전에 axios를 직접 import해서 사용하다가 apiService 같은 래퍼를 만들어서 사용했더니 나중에 인터셉터 로직을 추가하거나 에러 핸들링을 변경할 때 훨씬 수월했던 경험이 있다. 책에서 말하는 "외부 패키지를 호출하는 코드를 가능한 줄여 경계를 관리하자"는 원칙이 실제로 얼마나 중요한지 깨달았다.

- 학습 테스트라는 개념이 새로웠다. 새로운 라이브러리를 도입할 때 바로 프로덕션 코드에 적용하다가 예상과 다르게 동작해서 고생했던 경험이 있는데, 앞으로는 간단한 테스트 케이스로 먼저 사용법을 익혀보는 전략을 택해야겠다.

## ❓ 궁금한 내용

프론트엔드는 외부 라이브러리 의존도가 높은 환경이라고 생각한다. 버전 업데이트나 라이브러리 교체가 나름 빈번한 편인데, 이런 변경에 유연하게 대응할 수 있는 아키텍처 설계 방법이 있을지 궁금하다.
